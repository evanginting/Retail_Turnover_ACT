<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Retail_Project_33477558</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Retail_Project_33477558_files/libs/clipboard/clipboard.min.js"></script>
<script src="Retail_Project_33477558_files/libs/quarto-html/quarto.js"></script>
<script src="Retail_Project_33477558_files/libs/quarto-html/popper.min.js"></script>
<script src="Retail_Project_33477558_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Retail_Project_33477558_files/libs/quarto-html/anchor.min.js"></script>
<link href="Retail_Project_33477558_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Retail_Project_33477558_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Retail_Project_33477558_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Retail_Project_33477558_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Retail_Project_33477558_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="Retail_Project_33477558_files/libs/kePrint-0.0.1/kePrint.js"></script>

<link href="Retail_Project_33477558_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Retail_Project_33477558</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div style="text-align: justify;">
<section id="statistical-feature-of-retail-turnover-in-australia-capital-territory-act" class="level2">
<h2 class="anchored" data-anchor-id="statistical-feature-of-retail-turnover-in-australia-capital-territory-act">Statistical Feature of Retail Turnover in Australia Capital Territory (ACT)</h2>
<section id="overall-trend" class="level3">
<h3 class="anchored" data-anchor-id="overall-trend">Overall Trend</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Month, <span class="at">y =</span> Turnover)) <span class="sc">+</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_x_continuous(breaks=seq(1982,2022,2)) +</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#autoplot(Turnover) +</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Turnover (in Million AUD)"</span>) <span class="sc">+</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Retail Turnover in ACT"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">subtitle =</span> <span class="st">"Data Period: 1982 - 2022"</span>) <span class="sc">+</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-trend1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-trend1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-trend1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-trend1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Retail Turnover Trend in ACT
</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-trend1" class="quarto-xref">Figure&nbsp;1</a> appears to follow the multiplicative seasonality with global upward trends. There are noticeable local trends, initially, there was a gradual upward local trend until the year 2000, followed by period of stability. Afterward, there was a brief downward local trend, which did not last very long, and finally, a significant increase local trend until recent period.</p>
<p>In terms of seasonality, turnover peaks every December and reaching its troughs every January. Initially when the turnover are low, seasonal fluctuations are also small, but they increase as turnover grows. Outliers can also be spotted in the recent years, marked by significant drops as well as significant spikes. Taking a broader perspective, seasonality may be influenced by increased spending during Christmas and New Year holidays.</p>
</section>
<section id="covid-19-effect" class="level3">
<h3 class="anchored" data-anchor-id="covid-19-effect">COVID-19 Effect</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(Month) <span class="sc">&gt;=</span> <span class="dv">2019</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Month, <span class="at">y =</span> Turnover)) <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_x_continuous(breaks=seq(1982,2022,2)) +</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#autoplot(Turnover) +</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Turnover (in Million AUD)"</span>) <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Retail Turnover in ACT during COVID-19"</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">subtitle =</span> <span class="st">"Data Period: 2019 - 2022"</span>) <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-covid" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-covid-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-covid-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-covid-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Retail Turnover Trend in ACT
</figcaption>
</figure>
</div>
</div>
</div>
<p>The <a href="#fig-covid" class="quarto-xref">Figure&nbsp;2</a> depicts the condition during COVID-19, we added 2019 for comparison purposes. As can be seen, COVID-19 is severely disrupted retail business in ACT. Some outstanding observations from the plot can be notified, which are the significant drop near the end of 2021 and the seasonal peak in 2021 that is just below the peak at prior year. In the later analysis, we will see how this condition affect our forecast.</p>
</section>
<section id="seasonal-trend" class="level3">
<h3 class="anchored" data-anchor-id="seasonal-trend">Seasonal Trend</h3>
<div class="cell">
<div class="cell-output-display">
<div id="fig-trend2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-trend2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-trend2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-trend2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Seasonal Plot of Monthly Retail Turnover in ACT
</figcaption>
</figure>
</div>
</div>
</div>
<p>This <a href="#fig-trend2" class="quarto-xref">Figure&nbsp;3</a> provides a better view of the seasonality mentioned in the previous section. It illustrates fluctuations over the years across different months. The plot reveals that the highest values each year are consistently recorded in December, while the lowest values are observed in January. With this level of detail, a new insight emerges: there is a small spike in March for most years. Additionally, declining trends in February (in most of the years) are noticeable, likely due to the month’s shorter duration compared to others. Furthermore, significant fluctuations in the recent period (especially in March and September), as mentioned earlier, are evident. This plot supports our statement regarding the effect of COVID-19 in the previous section. The magnitude of drop in September had not been ever occured before. The lower seasonal peak was also happened during COVID.</p>
</section>
<section id="seasonal-subseries-trend" class="level3">
<h3 class="anchored" data-anchor-id="seasonal-subseries-trend">Seasonal Subseries Trend</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_subseries</span>(<span class="at">y =</span> Turnover) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Turnover (in Million AUD)"</span>) <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Seasonal Subseries Plot: Retail Turnover in ACT"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"Data Period: 1982 - 2022"</span>) <span class="sc">+</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-trend3" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-trend3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-trend3-1.png" class="img-fluid figure-img" width="960">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-trend3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Seasonal Subseries Plot of Monthly Retail Turnover in ACT
</figcaption>
</figure>
</div>
</div>
</div>
<p>The <a href="#fig-trend3" class="quarto-xref">Figure&nbsp;4</a> reinforces the statement regarding the overall trend that was mentioned previously. In general, the trend exhibits a consistent pattern of upward movement. The shapes are similar across months, they begin with an upward trajectory, experience a period of relative stability, and conclude with another upward trend. December notably emerges as the month with the highest average turnover, while January (as well as February) records the lowest. Furthermore, the turnover movements from the lowest to the highest points of each month appear to be more pronounced in the later months.</p>
</section>
<section id="assessing-current-condition-for-modelling-purposes" class="level3">
<h3 class="anchored" data-anchor-id="assessing-current-condition-for-modelling-purposes">Assessing Current Condition for Modelling Purposes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_tsdisplay</span>(Turnover, <span class="at">plot_type =</span> <span class="st">"partial"</span>) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Time Plot, ACF, and PACF Plots: Retail Turnover in ACT"</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"Data Period: 1982 - 2022"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-display" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-display-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-display-1.png" class="img-fluid figure-img" width="960">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-display-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Time Plot, ACF, and PACF Plots of Retail Turnover in ACT
</figcaption>
</figure>
</div>
</div>
</div>
<p>From <a href="#fig-display" class="quarto-xref">Figure&nbsp;5</a>, we can see that the data is non-stationary. Hence, a transformation is needed before we make the model for the forecast. We will check later if we need seasonal difference or even first difference.</p>
</section>
</section>
<section id="data-transformation-and-unit-root-test" class="level2">
<h2 class="anchored" data-anchor-id="data-transformation-and-unit-root-test">Data Transformation and Unit Root Test</h2>
<section id="data-transformation" class="level3">
<h3 class="anchored" data-anchor-id="data-transformation">Data Transformation</h3>
<p><strong>Step 1: Data Transformation</strong></p>
<p><strong>Log Transformation</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">log</span>(Turnover)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Log Transformed Retail Turnover"</span>) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Log Transformed Retail Turnover in ACT"</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"Data Period: 1982 - 2022"</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-trf1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-trf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-trf1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-trf1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: The Log Transformed Data
</figcaption>
</figure>
</div>
</div>
</div>
<p>The log transformation in <a href="#fig-trf1" class="quarto-xref">Figure&nbsp;6</a> give us a fairly balanced seasonality throughout the entire period. While there is some lower seasonality observed during 1985 to 1990 compared to other period, the overall height of seasonality remain fairly consistent apart from those years. Therefore, we can conclude that this is a strong transformation.</p>
<p><strong>Box-Cox Transformation</strong></p>
<p>Before applying the Box-Cox transformation, we can use Guerrero Method to get our optimal lambda.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating lambda by using Guerrero method</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>lambda_guerrero <span class="ot">&lt;-</span> retail <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">features</span>(Turnover, <span class="at">features =</span> guerrero)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>lambda_guerrero <span class="sc">|&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-guerrero" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-guerrero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Lambda by Guerrero Method
</figcaption>
<div aria-describedby="tbl-guerrero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lambda_guerrero</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: right;">0.0482667</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>The Guerrero method give 0.0482667 as our lambda. Below is the plot Box-Cox transformation with lambda obtained from Guerrero method.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>)) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Box-Cox Transformation with Lambda by Guerrero"</span>) <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Box-Cox Transformed Turnover, Lambda = 0.04826666"</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Box-Cox Transformed Retail Turnover in ACT (Lambda by Guerrero Method)"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"Data Period: 1982 - 2022"</span>) <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-trf2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-trf2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-trf2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-trf2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: The Box-Cox (Lambda = 0.04826666) Transformed Data
</figcaption>
</figure>
</div>
</div>
</div>
<p>As can be seen from the picture, it is similar to what we had with log transformation. The seasonality’s height are fairly consistent throughout the period, only certain period in 1985 - 1990 have lower seasonality than the others. Changing the lambda by 0.1 or 0.2 point does not really give much difference, therefore, this lambda is good enough for our model.</p>
<p><strong>Step 2: Seasonal Difference</strong></p>
<p>After data transformation, the next step would be applying seasonal difference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_tsdisplay</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">difference</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>), </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">lag =</span> <span class="dv">12</span>), </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot_type =</span> <span class="st">"partial"</span>, <span class="at">lag =</span> <span class="dv">36</span>) <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Seasonal Differenced for Retail Turnover in ACT"</span>, </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Data Period: 1982 - 2022"</span>, </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-seasondiff" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-seasondiff-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-seasondiff-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-seasondiff-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: The Seasonal Difference of the Data
</figcaption>
</figure>
</div>
</div>
</div>
<p>The seasonal difference as depicted from <a href="#fig-seasondiff" class="quarto-xref">Figure&nbsp;8</a> shows that the time plot have not reached stationary point yet, as it still moving up and down. Additionally, from ACF plot we can see there is sinusoidal pattern, meaning autocorrelation still exist.</p>
<p><strong>Step 3: Difference</strong></p>
<p>Since our data is still not stationary, then we will apply first difference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_tsdisplay</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">difference</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">difference</span>(</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>), </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">lag =</span> <span class="dv">12</span>)), </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">plot_type =</span> <span class="st">"partial"</span>, <span class="at">lag =</span> <span class="dv">48</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Double Differenced for Retail Turnover in ACT"</span>, </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"Data Period: 1982 - 2022"</span>, </span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-diff2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-diff2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-diff2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-diff2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: The Additional Difference to the Data
</figcaption>
</figure>
</div>
</div>
</div>
<p>With double difference, we are able to make the data stationary. Some key points that supports this statement are:</p>
<ul>
<li>The time plot is showing stationary trend, which is mostly wandering around zero. Altough the variances are bigger at the end of the plot which could be because of COVID-19 effect, but we can ignore that because it is just outlier.</li>
<li>The ACF and PACF plot does not have a decaying lags, indicating we have removed the seasonality in the data.</li>
</ul>
</section>
<section id="unit-root-test" class="level3">
<h3 class="anchored" data-anchor-id="unit-root-test">Unit Root Test</h3>
<p>Let’s do unit-root test to check whether we actually need a differencing, double differencing, or just using the default transformation (in this case, box-cox) is adequate enough to build the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bc_turnover =</span> <span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>)) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">features</span>(bc_turnover, unitroot_nsdiffs) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-unitroot4" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-unitroot4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Unit Root Test for Seasonal Differencing
</figcaption>
<div aria-describedby="tbl-unitroot4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">nsdiffs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>After applying seasonal difference unit test, it suggest us to do the seasonal difference, because the nsdiffs value is 1. Moving on to the next test to determine if we need first difference.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>retail <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bc_turnover =</span> <span class="fu">difference</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>), <span class="dv">12</span>)) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">features</span>(bc_turnover, unitroot_ndiffs) <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-unitroot5" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-unitroot5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Unit Root Test for First Differencing
</figcaption>
<div aria-describedby="tbl-unitroot5-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">ndiffs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>From this unit-root test, it seems we do not need the first difference. However, during our preliminary assessment using data visualisation, in <a href="#fig-diff2" class="quarto-xref">Figure&nbsp;9</a> where we apply seasonal difference, the data is still not stationary. Therefore, we can justify this test with this figure where we apply first difference in order to make the data stationary.</p>
</section>
</section>
<section id="methodology-and-evaluation-for-arima-and-ets-models" class="level2">
<h2 class="anchored" data-anchor-id="methodology-and-evaluation-for-arima-and-ets-models">Methodology and Evaluation for ARIMA and ETS Models</h2>
<p>In this section, we will define the appropriate model for our data that will be fitted through ARIMA and ETS method. We are going to start with ARIMA and then followed by ETS. This discussion will also completed with the evaluation of the models.</p>
<section id="methodology-for-shortlisting-arima-model" class="level3">
<h3 class="anchored" data-anchor-id="methodology-for-shortlisting-arima-model">Methodology for Shortlisting ARIMA Model</h3>
<p>In shortlisting our potential ARIMA candidate, we can take a look at the ACF and PACF plot at the <a href="#fig-diff2" class="quarto-xref">Figure&nbsp;9</a> again. First, let’s assess the AR model from PACF plot. In this plot, we can see that in terms of seasonal lag, there are 3 significant spikes at lag 12, 24, and 36. With that information, we will define our seasonal AR(P) = 3. Next, in terms of non-seasonal lag, there are two lags at lag 1 and 2. Therefore, we will set our non-seasonal AR(p) = 2.</p>
<p>Moving on to the MA model, we shift our focus to the ACF plot. In this plot, there are actually 3 lags that are surpassing the blue dot line, which are lag 12, 24, and 36, however, since lag 24 and lag 36 are very close to the line, we will ignore that and define our seasonal MA(Q) = 1. For non-seasonal MA, there are two significant lags identified, which are lag 1 and lag 2. Hence, we will set our non-seasonal MA(q) = 2. However, it is noticeable that there are other non-seasonal lags at lag 14, 23, and 46, but these are way too long in the past, so we can ignore that.</p>
<p>With all of these information in hand, the ARIMA model is:</p>
<p><strong>On box_cox(y, lambda = 0.04826666)</strong></p>
<ul>
<li>ARIMA(p = 2, d = 1, q = 0)(P = 3, D = 1, Q = 0)[12] This is an AR model</li>
<li>ARIMA(p = 0, d = 1, q = 2)(P = 0, D = 1, Q = 1)[12] This is an MA model</li>
</ul>
<p>And some combinations (by guessing)</p>
<ul>
<li>ARIMA(p = 1, d = 1, q = 1)(P = 1, D = 1, Q = 1)[12]</li>
<li>ARIMA(p = 2, d = 1, q = 1)(P = 1, D = 1, Q = 1)[12]</li>
<li>ARIMA(p = 1, d = 1, q = 2)(P = 1, D = 1, Q = 1)[12]</li>
<li>ARIMA(p = 2, d = 1, q = 2)(P = 2, D = 1, Q = 1)[12]</li>
<li>ARIMA(p = 2, d = 1, q = 2)(P = 3, D = 1, Q = 1)[12]</li>
</ul>
<p>In these models, we do not need constant, because the time plot in <a href="#fig-diff2" class="quarto-xref">Figure&nbsp;9</a> has already centered around zero (0).</p>
</section>
<section id="methodology-for-shortlisting-ets-model" class="level3">
<h3 class="anchored" data-anchor-id="methodology-for-shortlisting-ets-model">Methodology for Shortlisting ETS Model</h3>
<p>When determining the appropriate model for ETS, we should look at the initial state of the retail turnover trend (before transformation). We are looking at three components, which are error, trend, and seasonality. As has been mentioned previously from <a href="#fig-trend1" class="quarto-xref">Figure&nbsp;1</a>, the data has multiplicative seasonality. For trend, even though it seems they follow additive trend but there were some periods of stability during 2001 - 2010, meaning we could consider an additive damped trend as well. Lastly, for the error terms, as the variance of the error increases with the increase of the level of the data (as can be seen after each seasonal spike), then it’s clear that the model should include multiplicative error. Finally, with all considerations, these are our shortlist of ETS model:</p>
<ul>
<li>ETS(M, A, M); Error “Multiplicative”, Trend “Additive”, Seasonality “Multiplicative”. Handling overall trend which showcasing an additive trend.</li>
<li>ETS(M, Ad, M); Error “Multiplicative”, Trend “Additive damped”, Seasonality “Multiplicative”. Handling some periods of stability in an additive trend.</li>
<li>ETS(Auto)</li>
</ul>
<p>We add an automatic model for comparison purposes, which later can be evaluated from the AICc and accuracy results.</p>
</section>
<section id="splitting-the-data-into-train-and-test-set" class="level3">
<h3 class="anchored" data-anchor-id="splitting-the-data-into-train-and-test-set">Splitting the Data into Train and Test Set</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Splitting training set and testing set</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>retail_tr <span class="ot">&lt;-</span> retail <span class="sc">|&gt;</span> <span class="fu">filter</span>(lubridate<span class="sc">::</span><span class="fu">year</span>(Month) <span class="sc">&lt;</span> <span class="dv">2021</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>retail_ts <span class="ot">&lt;-</span> retail <span class="sc">|&gt;</span> <span class="fu">filter</span>(lubridate<span class="sc">::</span><span class="fu">year</span>(Month) <span class="sc">&gt;=</span> <span class="dv">2021</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="fit-the-model-for-arima-and-ets" class="level3">
<h3 class="anchored" data-anchor-id="fit-the-model-for-arima-and-ets">Fit the model for ARIMA and ETS</h3>
<section id="arima" class="level4">
<h4 class="anchored" data-anchor-id="arima">ARIMA</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fit_arima <span class="ot">&lt;-</span> retail_tr <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">arima_auto =</span> <span class="fu">ARIMA</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>), <span class="at">stepwise =</span> <span class="cn">FALSE</span>, <span class="at">approx =</span> <span class="cn">FALSE</span>),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">arima210310 =</span> <span class="fu">ARIMA</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> <span class="fu">pdq</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">0</span>)),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">arima012011 =</span> <span class="fu">ARIMA</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> <span class="fu">pdq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>)),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">arima111111 =</span> <span class="fu">ARIMA</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> <span class="fu">pdq</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)),</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">arima211111 =</span> <span class="fu">ARIMA</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> <span class="fu">pdq</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)),</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">arima112111 =</span> <span class="fu">ARIMA</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> <span class="fu">pdq</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">arima212211 =</span> <span class="fu">ARIMA</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> <span class="fu">pdq</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>fit_arima <span class="sc">|&gt;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-arimamod" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-arimamod-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: List of selected ARIMA Models
</figcaption>
<div aria-describedby="tbl-arimamod-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">arima_auto</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">arima210310</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">arima012011</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">arima111111</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">arima211111</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">arima112111</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">arima212211</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">&lt;ARIMA(1,1,1)(0,1,1)[12]&gt;</td>
<td style="text-align: left;">&lt;ARIMA(2,1,0)(3,1,0)[12]&gt;</td>
<td style="text-align: left;">&lt;ARIMA(0,1,2)(0,1,1)[12]&gt;</td>
<td style="text-align: left;">&lt;ARIMA(1,1,1)(1,1,1)[12]&gt;</td>
<td style="text-align: left;">&lt;ARIMA(2,1,1)(1,1,1)[12]&gt;</td>
<td style="text-align: left;">&lt;ARIMA(1,1,2)(1,1,1)[12]&gt;</td>
<td style="text-align: left;">&lt;ARIMA(2,1,2)(2,1,1)[12]&gt;</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>The automatic ARIMA give us ARIMA(1,1,1)(0,1,1)[12] on box_cox(y, lambda = 0.04826666), different from our model selections. We will see which one is the best model later in the evaluation section.</p>
</section>
<section id="ets" class="level4">
<h4 class="anchored" data-anchor-id="ets">ETS</h4>
<div class="cell">
<div id="tbl-etsmod" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-etsmod-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: List of selected ETS Models
</figcaption>
<div aria-describedby="tbl-etsmod-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ets_madm</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ets_mam</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">ets_auto</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">&lt;ETS(M,Ad,M)&gt;</td>
<td style="text-align: left;">&lt;ETS(M,A,M)&gt;</td>
<td style="text-align: left;">&lt;ETS(M,A,M)&gt;</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>After fitting the model, it turns out that the automatic ETS generate the same model as what we have selected, which is ETS(M,A,M). Therefore, moving forward automatic ETS will be replaced by our selected model ETS(M,A,M) in model evaluation.</p>
</section>
</section>
<section id="models-evaluation" class="level3">
<h3 class="anchored" data-anchor-id="models-evaluation">Models Evaluation</h3>
<p>In evaluating the models, first we will look at the AIC (Akaike Information Criterion) from each models. As we can not compare ARIMA and ETS models directly, first, we will evaluate ARIMA models and followed by ETS models.</p>
<section id="arima-models" class="level4">
<h4 class="anchored" data-anchor-id="arima-models">ARIMA models</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>fit_arima <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>ar_roots, <span class="sc">-</span>ma_roots) <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(AICc) <span class="sc">|&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-aictest" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-aictest-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6: AIC Test to Check Best Models from ARIMA
</figcaption>
<div aria-describedby="tbl-aictest-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sigma2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">log_lik</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">AIC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">AICc</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">BIC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: right;">0.0028205</td>
<td style="text-align: right;">669.3023</td>
<td style="text-align: right;">-1328.605</td>
<td style="text-align: right;">-1328.470</td>
<td style="text-align: right;">-1308.036</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima112111</td>
<td style="text-align: right;">0.0028269</td>
<td style="text-align: right;">669.3203</td>
<td style="text-align: right;">-1326.641</td>
<td style="text-align: right;">-1326.452</td>
<td style="text-align: right;">-1301.958</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima211111</td>
<td style="text-align: right;">0.0028267</td>
<td style="text-align: right;">669.3118</td>
<td style="text-align: right;">-1326.624</td>
<td style="text-align: right;">-1326.435</td>
<td style="text-align: right;">-1301.941</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima212211</td>
<td style="text-align: right;">0.0028327</td>
<td style="text-align: right;">669.7100</td>
<td style="text-align: right;">-1323.420</td>
<td style="text-align: right;">-1323.095</td>
<td style="text-align: right;">-1290.511</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima_auto</td>
<td style="text-align: right;">0.0031795</td>
<td style="text-align: right;">652.0554</td>
<td style="text-align: right;">-1296.111</td>
<td style="text-align: right;">-1296.021</td>
<td style="text-align: right;">-1279.656</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima012011</td>
<td style="text-align: right;">0.0031806</td>
<td style="text-align: right;">651.9624</td>
<td style="text-align: right;">-1295.925</td>
<td style="text-align: right;">-1295.835</td>
<td style="text-align: right;">-1279.470</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima210310</td>
<td style="text-align: right;">0.0033989</td>
<td style="text-align: right;">642.8978</td>
<td style="text-align: right;">-1273.796</td>
<td style="text-align: right;">-1273.607</td>
<td style="text-align: right;">-1249.113</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>In selecting the best model, we look at the smallest possible AICc values (closest to negative infinity). As we have arranged the table according to lowest AICc, it turns out the top 3 model are the model which based on our speculation, which are ARIMA(1,1,1)(1,1,1)[12], ARIMA(1,1,2)(1,1,1)[12], ARIMA(2,1,1)(1,1,1)[12]. Model ARIMA(1,1,1)(1,1,1)[12] comes out as the best at this evaluation, but we will do further investigation before deciding the best model when we check the accuracy.</p>
</section>
<section id="ets-models" class="level4">
<h4 class="anchored" data-anchor-id="ets-models">ETS models</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>fit_ets <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ets_mam, ets_madm) <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glance</span>() <span class="sc">|&gt;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(AICc) <span class="sc">|&gt;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-aictest2" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-aictest2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7: AIC Test to Check Best Models from ETS
</figcaption>
<div aria-describedby="tbl-aictest2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">sigma2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">log_lik</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">AIC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">AICc</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">BIC</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MSE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">AMSE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MAE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: right;">0.0023323</td>
<td style="text-align: right;">-1545.886</td>
<td style="text-align: right;">3125.771</td>
<td style="text-align: right;">3127.141</td>
<td style="text-align: right;">3196.186</td>
<td style="text-align: right;">2.239024</td>
<td style="text-align: right;">2.875375</td>
<td style="text-align: right;">0.0372244</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_madm</td>
<td style="text-align: right;">0.0024085</td>
<td style="text-align: right;">-1550.793</td>
<td style="text-align: right;">3137.586</td>
<td style="text-align: right;">3139.120</td>
<td style="text-align: right;">3212.143</td>
<td style="text-align: right;">2.270508</td>
<td style="text-align: right;">2.934676</td>
<td style="text-align: right;">0.0374619</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>Based on AIC, the ETS(M,A,M) generate the smaller AIC compare to the ETS(M,Ad,M). Therefore, we would select ETC(M,A,M) as the best ETS model.</p>
</section>
<section id="comparing-the-arima-vs-ets-on-accuracy-of-the-test-set" class="level4">
<h4 class="anchored" data-anchor-id="comparing-the-arima-vs-ets-on-accuracy-of-the-test-set">Comparing the ARIMA vs ETS on accuracy of the test-set</h4>
<p>While we mentioned that ARIMA and ETS can not be compared directly on AIC, we can compare them on the accuracy measures. In doing that, we will include all the models and see which models give the best accuracy.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  fit_arima <span class="sc">|&gt;</span> <span class="fu">accuracy</span>(),</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  fit_ets <span class="sc">|&gt;</span> <span class="fu">accuracy</span>(),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  fit_arima <span class="sc">|&gt;</span>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">24</span>) <span class="sc">|&gt;</span> <span class="fu">accuracy</span>(retail),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  fit_ets <span class="sc">|&gt;</span> <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">24</span>) <span class="sc">|&gt;</span> <span class="fu">accuracy</span>(retail)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>ME, <span class="sc">-</span>MPE, <span class="sc">-</span>ACF1) <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(RMSE) <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span> </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-accperformance" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-accperformance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;8: Comparing Accuracy Performance of Every Identified Model
</figcaption>
<div aria-describedby="tbl-accperformance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.type</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">RMSE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MAE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MAPE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MASE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">RMSSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima112111</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.399905</td>
<td style="text-align: right;">1.023002</td>
<td style="text-align: right;">3.431207</td>
<td style="text-align: right;">0.4170821</td>
<td style="text-align: right;">0.4293649</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima211111</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.400359</td>
<td style="text-align: right;">1.023733</td>
<td style="text-align: right;">3.433316</td>
<td style="text-align: right;">0.4173801</td>
<td style="text-align: right;">0.4295043</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.400873</td>
<td style="text-align: right;">1.024433</td>
<td style="text-align: right;">3.435235</td>
<td style="text-align: right;">0.4176656</td>
<td style="text-align: right;">0.4296618</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima212211</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.402839</td>
<td style="text-align: right;">1.024224</td>
<td style="text-align: right;">3.428797</td>
<td style="text-align: right;">0.4175802</td>
<td style="text-align: right;">0.4302646</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima012011</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.492774</td>
<td style="text-align: right;">1.078994</td>
<td style="text-align: right;">3.607764</td>
<td style="text-align: right;">0.4399103</td>
<td style="text-align: right;">0.4578486</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima_auto</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.495055</td>
<td style="text-align: right;">1.082165</td>
<td style="text-align: right;">3.613231</td>
<td style="text-align: right;">0.4412032</td>
<td style="text-align: right;">0.4585483</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.496337</td>
<td style="text-align: right;">1.097588</td>
<td style="text-align: right;">3.722507</td>
<td style="text-align: right;">0.4474910</td>
<td style="text-align: right;">0.4589415</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_auto</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.496337</td>
<td style="text-align: right;">1.097588</td>
<td style="text-align: right;">3.722507</td>
<td style="text-align: right;">0.4474910</td>
<td style="text-align: right;">0.4589415</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_madm</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.506820</td>
<td style="text-align: right;">1.099282</td>
<td style="text-align: right;">3.710964</td>
<td style="text-align: right;">0.4481819</td>
<td style="text-align: right;">0.4621569</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima210310</td>
<td style="text-align: left;">Training</td>
<td style="text-align: right;">1.531587</td>
<td style="text-align: right;">1.101843</td>
<td style="text-align: right;">3.721186</td>
<td style="text-align: right;">0.4492259</td>
<td style="text-align: right;">0.4697532</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima_auto</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">6.545324</td>
<td style="text-align: right;">4.604179</td>
<td style="text-align: right;">7.083883</td>
<td style="text-align: right;">1.8771426</td>
<td style="text-align: right;">2.0075163</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima012011</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">6.553501</td>
<td style="text-align: right;">4.592427</td>
<td style="text-align: right;">7.081573</td>
<td style="text-align: right;">1.8723511</td>
<td style="text-align: right;">2.0100243</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">7.294555</td>
<td style="text-align: right;">4.817837</td>
<td style="text-align: right;">7.635828</td>
<td style="text-align: right;">1.9642519</td>
<td style="text-align: right;">2.2373130</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima211111</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">7.303530</td>
<td style="text-align: right;">4.817466</td>
<td style="text-align: right;">7.639694</td>
<td style="text-align: right;">1.9641005</td>
<td style="text-align: right;">2.2400659</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima112111</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">7.311568</td>
<td style="text-align: right;">4.821231</td>
<td style="text-align: right;">7.646920</td>
<td style="text-align: right;">1.9656354</td>
<td style="text-align: right;">2.2425312</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima212211</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">7.407444</td>
<td style="text-align: right;">4.913754</td>
<td style="text-align: right;">7.787193</td>
<td style="text-align: right;">2.0033575</td>
<td style="text-align: right;">2.2719373</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_madm</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">8.305521</td>
<td style="text-align: right;">6.523324</td>
<td style="text-align: right;">9.267372</td>
<td style="text-align: right;">2.6595859</td>
<td style="text-align: right;">2.5473865</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_auto</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">8.506178</td>
<td style="text-align: right;">6.743195</td>
<td style="text-align: right;">9.533823</td>
<td style="text-align: right;">2.7492282</td>
<td style="text-align: right;">2.6089300</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">8.506178</td>
<td style="text-align: right;">6.743195</td>
<td style="text-align: right;">9.533823</td>
<td style="text-align: right;">2.7492282</td>
<td style="text-align: right;">2.6089300</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima210310</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">9.708499</td>
<td style="text-align: right;">7.789207</td>
<td style="text-align: right;">11.753896</td>
<td style="text-align: right;">3.1756914</td>
<td style="text-align: right;">2.9776940</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>So far, our candidate from ARIMA models is narrowed down to ARIMA(1,1,1)(1,1,1)[12] which is the best on AICc evaluation, model ARIMA(1,1,2)(1,1,1)[12] which is the best on accuracy measure (on training set), and auto ARIMA is the best on accuracy measure (on test set). Auto ARIMA is out of contention in this case because they perform worst in AIC test. Finally, In deciding which one is the best model for ARIMA, we pick model ARIMA(1,1,1)(1,1,1)[12] because from overall performance this model provides better balance (top 1 on AICc test, top 3 on training accuracy, top 3 on test accuracy), while the other model in this accuracy evaluation provides slightly worse balance (despite being the best in AICc). We incline more on the model that has lower RMSE on test set, since we want better predictive performance and accuracy.</p>
<p>On the other hand, for ETS model we will pick ETS(M,A,M) since this model is consistently being the top 1 on AIC and RMSE training set.</p>
</section>
</section>
</section>
<section id="picking-the-best-arima-ets-and-model-forecasts" class="level2">
<h2 class="anchored" data-anchor-id="picking-the-best-arima-ets-and-model-forecasts">Picking the Best ARIMA &amp; ETS and Model Forecasts</h2>
<p>From the previous section, we have obtained the best model for ARIMA and ETS, which are ARIMA(1,1,1)(1,1,1)[12] and ETS(M,A,M). In this section, we will discuss on the parameter estimates, residual diagnostics, forecasts, and prediction interval of both models. The discussion will be started from ARIMA model and followed by ETS model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>fit_arima_best <span class="ot">&lt;-</span> fit_arima <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(arima111111)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>fit_ets_best <span class="ot">&lt;-</span> fit_ets <span class="sc">|&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ets_mam)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="arima-model" class="level3">
<h3 class="anchored" data-anchor-id="arima-model">ARIMA Model</h3>
<section id="parameter-estimates" class="level4">
<h4 class="anchored" data-anchor-id="parameter-estimates">Parameter Estimates</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>fit_arima_best <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">report</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Series: Turnover 
Model: ARIMA(1,1,1)(1,1,1)[12] 
Transformation: box_cox(Turnover, 0.04826666) 

Coefficients:
         ar1      ma1    sar1     sma1
      0.3150  -0.6717  0.3228  -0.9999
s.e.  0.1078   0.0859  0.0472   0.0708

sigma^2 estimated as 0.002821:  log likelihood=669.3
AIC=-1328.6   AICc=-1328.47   BIC=-1308.04</code></pre>
</div>
</div>
<p>From the best ARIMA model, the parameter estimates are:</p>
<ul>
<li><p>Non-Seasonal AR: <span class="math inline">\(\phi_1\)</span> = 0.3150</p></li>
<li><p>Non-Seasonal MA: <span class="math inline">\(\theta_1\)</span> = -0.6717</p></li>
<li><p>Seasonal AR: <span class="math inline">\(\Phi_1\)</span> = 0.3228</p></li>
<li><p>Seasonal MA: <span class="math inline">\(\Theta_1\)</span> = -0.9999</p></li>
<li><p>Difference: d = 1 (Non-Seasonal); D = 1 (Seasonal)</p></li>
<li><p>Seasonal Period: 12 (Monthly Period)</p></li>
</ul>
</section>
<section id="residual-diagnostics" class="level4">
<h4 class="anchored" data-anchor-id="residual-diagnostics">Residual Diagnostics</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>fit_arima_best <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_tsresiduals</span>(<span class="at">lag_max =</span> <span class="dv">48</span>) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Residuals from the fitted ARIMA(1,1,1)(1,1,1)[12] Model"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-resid1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-resid1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-resid1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-resid1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Residuals from the fitted ARIMA(1,1,1)(1,1,1)[12] Model
</figcaption>
</figure>
</div>
</div>
</div>
<p>From <a href="#fig-resid1" class="quarto-xref">Figure&nbsp;10</a>, the variance looks pretty similar throughout the entire periods, some outliers can be spotted especially in the beginning, however most of the time they are similar. The distribution can be seen from histogram, we can conclude that the histogram is normally distributed. However, from the ACF plot, we can see some significant spikes at lag 10, 23, 26, 39 (although there are some more but they are pretty close to the blue line), this might indicate white noise has not been able to remove from the model. To further prove this statement, we can perform Ljung-Box Test.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">augment</span>(fit_arima_best) <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">features</span>(.innov, ljung_box, <span class="at">lag =</span> <span class="dv">36</span>, <span class="at">dof =</span> <span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-residtest" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-residtest-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9: Ljung-Box Test Result of the best ARIMA Model
</figcaption>
<div aria-describedby="tbl-residtest-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lb_stat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lb_pvalue</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: right;">70.11682</td>
<td style="text-align: right;">0.0001144</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>Again, Ljung-Box Test also shows that the model fail the test as the p-value is below 0.05. This means there is enough evidence to reject null hypothesis and we can conclude that the residuals do not appear as white noise series and the model has not captured all the information in the data. Despite this information, the model can still be used for forecasting, but the prediction intervals may not be accurate due to correlated residuals.</p>
</section>
<section id="forecasts" class="level4">
<h4 class="anchored" data-anchor-id="forecasts">Forecasts</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>fit_arima <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(State, Industry, arima111111) <span class="sc">|&gt;</span>  </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">24</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">tail</span>(retail_tr, <span class="dv">12</span><span class="sc">*</span><span class="dv">5</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"ARIMA Forecast of Monthly Retail Turnover in ACT"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"24 Months Ahead Forecasts"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-fcarima" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fcarima-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-fcarima-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fcarima-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: ARIMA Model Forecast 24 months Ahead
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="prediction-interval" class="level4">
<h4 class="anchored" data-anchor-id="prediction-interval">Prediction Interval</h4>
<div class="cell">
<div id="tbl-preditrvl1" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-preditrvl1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;10: Prediction Interval of the Best ARIMA Models
</figcaption>
<div aria-describedby="tbl-preditrvl1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Month</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Turnover</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">.mean</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">80%</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">95%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Jan</td>
<td style="text-align: left;">t(N(4.6, 0.0029))</td>
<td style="text-align: right;">62.38710</td>
<td style="text-align: left;">[58.90313, 65.94508]80</td>
<td style="text-align: left;">[57.16265, 67.93896]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Feb</td>
<td style="text-align: left;">t(N(4.6, 0.0041))</td>
<td style="text-align: right;">63.09340</td>
<td style="text-align: left;">[58.91520, 67.37730]80</td>
<td style="text-align: left;">[56.85079, 69.80364]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Mar</td>
<td style="text-align: left;">t(N(4.7, 0.0049))</td>
<td style="text-align: right;">71.00506</td>
<td style="text-align: left;">[65.89100, 76.26015]80</td>
<td style="text-align: left;">[63.37982, 79.25431]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Apr</td>
<td style="text-align: left;">t(N(4.6, 0.0056))</td>
<td style="text-align: right;">64.61937</td>
<td style="text-align: left;">[59.62279, 69.76422]80</td>
<td style="text-align: left;">[57.18321, 72.71155]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 May</td>
<td style="text-align: left;">t(N(4.7, 0.0063))</td>
<td style="text-align: right;">68.11095</td>
<td style="text-align: left;">[62.55459, 73.84157]80</td>
<td style="text-align: left;">[59.85411, 77.13883]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Jun</td>
<td style="text-align: left;">t(N(4.7, 0.007))</td>
<td style="text-align: right;">67.34866</td>
<td style="text-align: left;">[61.57218, 73.31595]80</td>
<td style="text-align: left;">[58.77741, 76.76420]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Jul</td>
<td style="text-align: left;">t(N(4.7, 0.0076))</td>
<td style="text-align: right;">71.18189</td>
<td style="text-align: left;">[64.81373, 77.76980]80</td>
<td style="text-align: left;">[61.74501, 81.59117]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Aug</td>
<td style="text-align: left;">t(N(4.8, 0.0083))</td>
<td style="text-align: right;">72.50789</td>
<td style="text-align: left;">[65.75595, 79.50275]80</td>
<td style="text-align: left;">[62.51519, 83.57545]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Sep</td>
<td style="text-align: left;">t(N(4.7, 0.009))</td>
<td style="text-align: right;">70.85881</td>
<td style="text-align: left;">[63.99928, 77.97530]80</td>
<td style="text-align: left;">[60.72010, 82.13456]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Oct</td>
<td style="text-align: left;">t(N(4.8, 0.0096))</td>
<td style="text-align: right;">72.82672</td>
<td style="text-align: left;">[65.53508, 80.40127]80</td>
<td style="text-align: left;">[62.06194, 84.84339]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Nov</td>
<td style="text-align: left;">t(N(4.9, 0.01))</td>
<td style="text-align: right;">78.93424</td>
<td style="text-align: left;">[70.79996, 87.39375]80</td>
<td style="text-align: left;">[66.93789, 92.36986]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2021 Dec</td>
<td style="text-align: left;">t(N(5.2, 0.011))</td>
<td style="text-align: right;">103.38988</td>
<td style="text-align: left;">[92.54367, 114.67793]80</td>
<td style="text-align: left;">[87.40447, 121.33057]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Jan</td>
<td style="text-align: left;">t(N(4.7, 0.013))</td>
<td style="text-align: right;">67.52597</td>
<td style="text-align: left;">[59.68888, 75.71800]80</td>
<td style="text-align: left;">[56.02094, 80.60188]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Feb</td>
<td style="text-align: left;">t(N(4.7, 0.014))</td>
<td style="text-align: right;">68.33945</td>
<td style="text-align: left;">[59.99749, 77.07983]80</td>
<td style="text-align: left;">[56.11924, 82.32306]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Mar</td>
<td style="text-align: left;">t(N(4.8, 0.016))</td>
<td style="text-align: right;">75.31648</td>
<td style="text-align: left;">[65.77849, 85.32803]80</td>
<td style="text-align: left;">[61.36679, 91.36231]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Apr</td>
<td style="text-align: left;">t(N(4.7, 0.017))</td>
<td style="text-align: right;">70.51932</td>
<td style="text-align: left;">[61.22648, 80.29338]80</td>
<td style="text-align: left;">[56.95288, 86.21594]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 May</td>
<td style="text-align: left;">t(N(4.8, 0.018))</td>
<td style="text-align: right;">73.81428</td>
<td style="text-align: left;">[63.77621, 84.38983]80</td>
<td style="text-align: left;">[59.18174, 90.82610]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Jun</td>
<td style="text-align: left;">t(N(4.7, 0.019))</td>
<td style="text-align: right;">72.04948</td>
<td style="text-align: left;">[61.92870, 82.73115]80</td>
<td style="text-align: left;">[57.31977, 89.26230]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Jul</td>
<td style="text-align: left;">t(N(4.8, 0.02))</td>
<td style="text-align: right;">76.07553</td>
<td style="text-align: left;">[65.09931, 87.67768]80</td>
<td style="text-align: left;">[60.12236, 94.79977]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Aug</td>
<td style="text-align: left;">t(N(4.8, 0.022))</td>
<td style="text-align: right;">77.46592</td>
<td style="text-align: left;">[65.98617, 89.61927]80</td>
<td style="text-align: left;">[60.80402, 97.11010]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Sep</td>
<td style="text-align: left;">t(N(4.8, 0.023))</td>
<td style="text-align: right;">76.24014</td>
<td style="text-align: left;">[64.63515, 88.54588]80</td>
<td style="text-align: left;">[59.42049, 96.16247]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Oct</td>
<td style="text-align: left;">t(N(4.8, 0.024))</td>
<td style="text-align: right;">78.27156</td>
<td style="text-align: left;">[66.07444, 91.22397]80</td>
<td style="text-align: left;">[60.61636, 99.27105]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Nov</td>
<td style="text-align: left;">t(N(4.9, 0.025))</td>
<td style="text-align: right;">84.00695</td>
<td style="text-align: left;">[70.64925, 98.20993]80</td>
<td style="text-align: left;">[64.69360, 107.06322]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2022 Dec</td>
<td style="text-align: left;">t(N(5.3, 0.027))</td>
<td style="text-align: right;">110.24715</td>
<td style="text-align: left;">[92.54542, 129.08086]80</td>
<td style="text-align: left;">[84.66708, 140.83975]95</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="ets-model" class="level3">
<h3 class="anchored" data-anchor-id="ets-model">ETS Model</h3>
<section id="parameter-estimates-1" class="level4">
<h4 class="anchored" data-anchor-id="parameter-estimates-1">Parameter Estimates</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>fit_ets_best <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">report</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Series: Turnover 
Model: ETS(M,A,M) 
  Smoothing parameters:
    alpha = 0.5652584 
    beta  = 0.0001057057 
    gamma = 0.000101824 

  Initial states:
     l[0]       b[0]      s[0]     s[-1]     s[-2]   s[-3]    s[-4]     s[-5]
 8.815658 0.09984015 0.9823988 0.9010401 0.8956676 1.40807 1.061113 0.9973002
     s[-6]     s[-7]     s[-8]     s[-9]    s[-10]    s[-11]
 0.9753542 0.9931215 0.9756855 0.9248649 0.9613905 0.9239942

  sigma^2:  0.0023

     AIC     AICc      BIC 
3125.771 3127.141 3196.186 </code></pre>
</div>
</div>
<p>From the best ETS model, the parameter estimates are:</p>
<ul>
<li><span class="math inline">\(\alpha\)</span> = 0.5652584</li>
<li><span class="math inline">\(\beta\)</span> = 0.0001057057</li>
<li><span class="math inline">\(\gamma\)</span> = 0.000101824</li>
</ul>
</section>
<section id="residual-diagnostics-1" class="level4">
<h4 class="anchored" data-anchor-id="residual-diagnostics-1">Residual Diagnostics</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>fit_ets_best <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_tsresiduals</span>(<span class="at">lag_max =</span> <span class="dv">48</span>) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Residuals from the fitted ETS(M,A,M) Model"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-resid2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-resid2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-resid2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-resid2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: Innovation Residual from the best ETS Model
</figcaption>
</figure>
</div>
</div>
</div>
<p>From <a href="#fig-resid2" class="quarto-xref">Figure&nbsp;12</a>, the variance from the time plot also looks consistently same throughout the period. There are some outliers in the beginning of the period but they are minor. The histogram also follow normal distribution. However, similar with ARIMA model, the ACF plot has some significant spikes, which are lag 10, 12, 16 (there are more significant spikes but they are close to the blue line). Apparently this indicates that the model still has white noise. We will perform further investigation using Ljung-Box test.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">augment</span>(fit_ets_best) <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">features</span>(.innov, ljung_box, <span class="at">lag =</span> <span class="dv">36</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">|&gt;</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-residtest2" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-residtest2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;11: Ljung-Box Test Result of the best ETS Model
</figcaption>
<div aria-describedby="tbl-residtest2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lb_stat</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">lb_pvalue</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: right;">125.7419</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>Again, the p-value is zero, lower than 0.05. Therefore, we reject the null hypothesis. We conclude that the residuals do not appear as white noise series and the model has not captured all the information. Similar with ARIMA model, we can still make forecast with this model however the prediction intervals may not be accurate.</p>
</section>
<section id="forecasts-1" class="level4">
<h4 class="anchored" data-anchor-id="forecasts-1">Forecasts</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>fit_ets <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(State, Industry, ets_mam) <span class="sc">|&gt;</span>  </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">24</span>) <span class="sc">|&gt;</span> </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">tail</span>(retail_tr, <span class="dv">12</span><span class="sc">*</span><span class="dv">5</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Turnover (in Million AUD)"</span>) <span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"ETS Forecast of Monthly Retail Turnover in ACT"</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"24 Months Ahead Forecasts"</span>) <span class="sc">+</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-fcets" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fcets-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-fcets-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fcets-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: ETS Model Forecast 24 months Ahead
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="prediction-interval-1" class="level4">
<h4 class="anchored" data-anchor-id="prediction-interval-1">Prediction Interval</h4>
<div class="cell">
<div id="tbl-preditrvl2" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-preditrvl2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;12: Prediction Interval of the Best ETS Models
</figcaption>
<div aria-describedby="tbl-preditrvl2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Month</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Turnover</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">.mean</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">80%</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">95%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Jan</td>
<td style="text-align: left;">N(61, 8.6)</td>
<td style="text-align: right;">60.76539</td>
<td style="text-align: left;">[57.00453, 64.52626]80</td>
<td style="text-align: left;">[55.01365, 66.51714]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Feb</td>
<td style="text-align: left;">N(61, 12)</td>
<td style="text-align: right;">61.22223</td>
<td style="text-align: left;">[56.86979, 65.57466]80</td>
<td style="text-align: left;">[54.56576, 67.87870]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Mar</td>
<td style="text-align: left;">N(67, 17)</td>
<td style="text-align: right;">66.85070</td>
<td style="text-align: left;">[61.55497, 72.14643]80</td>
<td style="text-align: left;">[58.75158, 74.94982]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Apr</td>
<td style="text-align: left;">N(63, 18)</td>
<td style="text-align: right;">62.97119</td>
<td style="text-align: left;">[57.51978, 68.42260]80</td>
<td style="text-align: left;">[54.63398, 71.30840]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 May</td>
<td style="text-align: left;">N(66, 23)</td>
<td style="text-align: right;">65.61758</td>
<td style="text-align: left;">[59.49330, 71.74186]80</td>
<td style="text-align: left;">[56.25130, 74.98387]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Jun</td>
<td style="text-align: left;">N(63, 24)</td>
<td style="text-align: right;">63.21914</td>
<td style="text-align: left;">[56.92082, 69.51746]80</td>
<td style="text-align: left;">[53.58670, 72.85158]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Jul</td>
<td style="text-align: left;">N(67, 30)</td>
<td style="text-align: right;">66.79232</td>
<td style="text-align: left;">[59.74337, 73.84126]80</td>
<td style="text-align: left;">[56.01189, 77.57275]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Aug</td>
<td style="text-align: left;">N(68, 35)</td>
<td style="text-align: right;">68.08642</td>
<td style="text-align: left;">[60.52065, 75.65218]80</td>
<td style="text-align: left;">[56.51558, 79.65726]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Sep</td>
<td style="text-align: left;">N(67, 37)</td>
<td style="text-align: right;">66.96860</td>
<td style="text-align: left;">[59.17159, 74.76560]80</td>
<td style="text-align: left;">[55.04411, 78.89309]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Oct</td>
<td style="text-align: left;">N(69, 42)</td>
<td style="text-align: right;">68.57767</td>
<td style="text-align: left;">[60.24584, 76.90950]80</td>
<td style="text-align: left;">[55.83523, 81.32011]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Nov</td>
<td style="text-align: left;">N(73, 52)</td>
<td style="text-align: right;">73.07461</td>
<td style="text-align: left;">[63.84162, 82.30761]80</td>
<td style="text-align: left;">[58.95397, 87.19526]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2021 Dec</td>
<td style="text-align: left;">N(97, 99)</td>
<td style="text-align: right;">97.11183</td>
<td style="text-align: left;">[84.38848, 109.83519]80</td>
<td style="text-align: left;">[77.65314, 116.57052]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Jan</td>
<td style="text-align: left;">N(62, 43)</td>
<td style="text-align: right;">61.86378</td>
<td style="text-align: left;">[53.48013, 70.24742]80</td>
<td style="text-align: left;">[49.04209, 74.68546]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Feb</td>
<td style="text-align: left;">N(62, 46)</td>
<td style="text-align: right;">62.32720</td>
<td style="text-align: left;">[53.60985, 71.04455]80</td>
<td style="text-align: left;">[48.99516, 75.65924]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Mar</td>
<td style="text-align: left;">N(68, 59)</td>
<td style="text-align: right;">68.05545</td>
<td style="text-align: left;">[58.25054, 77.86035]80</td>
<td style="text-align: left;">[53.06014, 83.05075]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Apr</td>
<td style="text-align: left;">N(64, 55)</td>
<td style="text-align: right;">64.10432</td>
<td style="text-align: left;">[54.60703, 73.60162]80</td>
<td style="text-align: left;">[49.57947, 78.62918]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 May</td>
<td style="text-align: left;">N(67, 63)</td>
<td style="text-align: right;">66.79656</td>
<td style="text-align: left;">[56.63556, 76.95757]80</td>
<td style="text-align: left;">[51.25664, 82.33649]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Jun</td>
<td style="text-align: left;">N(64, 61)</td>
<td style="text-align: right;">64.35333</td>
<td style="text-align: left;">[54.31573, 74.39093]80</td>
<td style="text-align: left;">[49.00215, 79.70451]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Jul</td>
<td style="text-align: left;">N(68, 72)</td>
<td style="text-align: right;">67.98882</td>
<td style="text-align: left;">[57.12867, 78.84897]80</td>
<td style="text-align: left;">[51.37966, 84.59799]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Aug</td>
<td style="text-align: left;">N(69, 78)</td>
<td style="text-align: right;">69.30429</td>
<td style="text-align: left;">[57.97999, 80.62858]80</td>
<td style="text-align: left;">[51.98527, 86.62330]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Sep</td>
<td style="text-align: left;">N(68, 79)</td>
<td style="text-align: right;">68.16469</td>
<td style="text-align: left;">[56.78266, 79.54672]80</td>
<td style="text-align: left;">[50.75738, 85.57201]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Oct</td>
<td style="text-align: left;">N(70, 86)</td>
<td style="text-align: right;">69.80068</td>
<td style="text-align: left;">[57.90134, 81.70003]80</td>
<td style="text-align: left;">[51.60220, 87.99916]95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Nov</td>
<td style="text-align: left;">N(74, 102)</td>
<td style="text-align: right;">74.37589</td>
<td style="text-align: left;">[61.44210, 87.30968]80</td>
<td style="text-align: left;">[54.59536, 94.15642]95</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2022 Dec</td>
<td style="text-align: left;">N(99, 187)</td>
<td style="text-align: right;">98.83859</td>
<td style="text-align: left;">[81.31970, 116.35748]80</td>
<td style="text-align: left;">[72.04575, 125.63143]95</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
</section>
<section id="comparison-of-preferred-model" class="level2">
<h2 class="anchored" data-anchor-id="comparison-of-preferred-model">Comparison of Preferred Model</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  fit_arima <span class="sc">|&gt;</span> <span class="fu">select</span>(State, Industry, arima111111) <span class="sc">|&gt;</span> <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">24</span>),</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  fit_ets <span class="sc">|&gt;</span> <span class="fu">select</span>(State, Industry, ets_madm) <span class="sc">|&gt;</span> <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">24</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">tail</span>(retail, <span class="dv">12</span><span class="sc">*</span><span class="dv">5</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Turnover (in Million AUD)"</span>) <span class="sc">+</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Best Models Forecast of Monthly Retail Turnover in ACT"</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"Forecasted on Test Set"</span>) <span class="sc">+</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-fcarimaets" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fcarimaets-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-fcarimaets-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fcarimaets-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: ETS Model Forecast 24 months Ahead
</figcaption>
</figure>
</div>
</div>
</div>
<p>The <a href="#fig-fcarimaets" class="quarto-xref">Figure&nbsp;14</a> depicts the forecast of ARIMA and ETS models for 24 months ahead (starting from Jan’21). For ARIMA model, initially, the point forecast can follow the test data point quiet closely, and the prediction intervals still capture it. However, when significant drop occurs, the point forecasts do not follow that, even worse, the test data point is out of the prediction interval. For the rest of the movement, especially after seasonal peak, both point forecasts and prediction intervals are back to follow the test data point.</p>
<p>For ETS model, initially it performs slightly better than ARIMA, proven in the first few months, the point forecasts are closer to the test set data points. However, the same condition as ARIMA occurs at the point of significant drop. Shortly after the seasonal peak, ETS model become worse, especially during 2022, where the point forecasts and prediction intervals do not follow the trend anymore and are moving far away from the test data point. Even worse, in the last few months of 2022, the test data points are way above the prediction intervals.</p>
<p>In summary, For ARIMA and ETS, it seems the point forecasts and prediction intervals are able to capture the test data point in the first few observations. However, when significant drop occurs, they do not follow it closely. This could be the case because COVID-19 event breaking the pattern of the data. We trained the model based on data before COVID-19 happening, where it has captured certain patterns in the data, but the unpredictable pattern of COVID-19 makes the forecast become a bit inaccurate. Fortunately for ARIMA, the forecast is able to capture and follow closely the rest of the test data points. Unfortunately, this is not the case for ETS model. Therefore, for this data, ARIMA model performs better.</p>
</section>
<section id="out-of-sample-oos-point-forecasts" class="level2">
<h2 class="anchored" data-anchor-id="out-of-sample-oos-point-forecasts">Out-of-Sample (OOS) point forecasts</h2>
<p>Producing the out-of-sample point forecast using the full data set by fitting the best two models can be achieved with the code here:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>fit_oos <span class="ot">&lt;-</span> retail <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">arima111111 =</span> <span class="fu">ARIMA</span>(<span class="fu">box_cox</span>(Turnover, <span class="fl">0.04826666</span>) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> <span class="fu">pdq</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>) <span class="sc">+</span> <span class="fu">PDQ</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)),</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ets_mam =</span> <span class="fu">ETS</span>(Turnover <span class="sc">~</span> <span class="fu">error</span>(<span class="st">"M"</span>) <span class="sc">+</span> <span class="fu">trend</span>(<span class="st">"A"</span>) <span class="sc">+</span> <span class="fu">season</span>(<span class="st">"M"</span>))</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is our forecast using out-of-sample for the next 2 years (24 months) with 80% prediction interval.</p>
<div class="cell">
<div id="tbl-preditrvl3" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-preditrvl3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;13: 80% Prediction Interval of the Best Models
</figcaption>
<div aria-describedby="tbl-preditrvl3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Month</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Turnover</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">.mean</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">80%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Jan</td>
<td style="text-align: left;">t(N(4.8, 0.0034))</td>
<td style="text-align: right;">76.46185</td>
<td style="text-align: left;">[71.87416, 81.15443]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Feb</td>
<td style="text-align: left;">t(N(4.8, 0.005))</td>
<td style="text-align: right;">75.02634</td>
<td style="text-align: left;">[69.60547, 80.59720]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Mar</td>
<td style="text-align: left;">t(N(4.9, 0.0059))</td>
<td style="text-align: right;">81.47282</td>
<td style="text-align: left;">[75.06397, 88.07525]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Apr</td>
<td style="text-align: left;">t(N(4.9, 0.0067))</td>
<td style="text-align: right;">78.85277</td>
<td style="text-align: left;">[72.25200, 85.66617]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 May</td>
<td style="text-align: left;">t(N(4.9, 0.0074))</td>
<td style="text-align: right;">81.34181</td>
<td style="text-align: left;">[74.20297, 88.72215]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Jun</td>
<td style="text-align: left;">t(N(4.9, 0.0081))</td>
<td style="text-align: right;">81.66330</td>
<td style="text-align: left;">[74.18740, 89.40342]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Jul</td>
<td style="text-align: left;">t(N(5, 0.0088))</td>
<td style="text-align: right;">86.17913</td>
<td style="text-align: left;">[78.00327, 94.65488]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Aug</td>
<td style="text-align: left;">t(N(5, 0.0094))</td>
<td style="text-align: right;">86.24091</td>
<td style="text-align: left;">[77.76691, 95.03732]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Sep</td>
<td style="text-align: left;">t(N(4.9, 0.01))</td>
<td style="text-align: right;">84.00429</td>
<td style="text-align: left;">[75.46564, 92.87949]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Oct</td>
<td style="text-align: left;">t(N(5, 0.011))</td>
<td style="text-align: right;">88.25465</td>
<td style="text-align: left;">[79.02744, 97.85641]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Nov</td>
<td style="text-align: left;">t(N(5.1, 0.011))</td>
<td style="text-align: right;">98.24574</td>
<td style="text-align: left;">[87.72828, 109.20081]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2023 Dec</td>
<td style="text-align: left;">t(N(5.4, 0.012))</td>
<td style="text-align: right;">122.78729</td>
<td style="text-align: left;">[109.42297, 136.71741]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Jan</td>
<td style="text-align: left;">t(N(4.9, 0.014))</td>
<td style="text-align: right;">83.06553</td>
<td style="text-align: left;">[73.12511, 93.47088]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Feb</td>
<td style="text-align: left;">t(N(4.9, 0.016))</td>
<td style="text-align: right;">82.59569</td>
<td style="text-align: left;">[72.20853, 93.49480]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Mar</td>
<td style="text-align: left;">t(N(5, 0.017))</td>
<td style="text-align: right;">89.09129</td>
<td style="text-align: left;">[77.48373, 101.29277]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Apr</td>
<td style="text-align: left;">t(N(5, 0.018))</td>
<td style="text-align: right;">85.42804</td>
<td style="text-align: left;">[73.89244, 97.57668]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 May</td>
<td style="text-align: left;">t(N(5, 0.019))</td>
<td style="text-align: right;">88.66899</td>
<td style="text-align: left;">[76.34382, 101.66965]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Jun</td>
<td style="text-align: left;">t(N(5, 0.02))</td>
<td style="text-align: right;">88.09762</td>
<td style="text-align: left;">[75.49396, 101.41356]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Jul</td>
<td style="text-align: left;">t(N(5.1, 0.022))</td>
<td style="text-align: right;">92.82622</td>
<td style="text-align: left;">[79.21915, 107.22248]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Aug</td>
<td style="text-align: left;">t(N(5.1, 0.023))</td>
<td style="text-align: right;">92.67464</td>
<td style="text-align: left;">[78.74109, 107.43851]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Sep</td>
<td style="text-align: left;">t(N(5, 0.024))</td>
<td style="text-align: right;">90.09348</td>
<td style="text-align: left;">[76.20131, 104.83623]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Oct</td>
<td style="text-align: left;">t(N(5.1, 0.025))</td>
<td style="text-align: right;">94.41586</td>
<td style="text-align: left;">[79.55396, 110.20806]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Nov</td>
<td style="text-align: left;">t(N(5.2, 0.026))</td>
<td style="text-align: right;">104.67326</td>
<td style="text-align: left;">[87.91510, 122.49973]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">2024 Dec</td>
<td style="text-align: left;">t(N(5.5, 0.027))</td>
<td style="text-align: right;">132.41434</td>
<td style="text-align: left;">[111.00437, 155.20375]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Jan</td>
<td style="text-align: left;">N(74, 15)</td>
<td style="text-align: right;">74.17483</td>
<td style="text-align: left;">[69.22848, 79.12118]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Feb</td>
<td style="text-align: left;">N(73, 19)</td>
<td style="text-align: right;">73.41355</td>
<td style="text-align: left;">[67.85070, 78.97639]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Mar</td>
<td style="text-align: left;">N(79, 27)</td>
<td style="text-align: right;">79.03431</td>
<td style="text-align: left;">[72.40559, 85.66304]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Apr</td>
<td style="text-align: left;">N(75, 29)</td>
<td style="text-align: right;">75.37759</td>
<td style="text-align: left;">[68.50002, 82.25516]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 May</td>
<td style="text-align: left;">N(79, 36)</td>
<td style="text-align: right;">78.63526</td>
<td style="text-align: left;">[70.92519, 86.34533]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Jun</td>
<td style="text-align: left;">N(77, 40)</td>
<td style="text-align: right;">77.27674</td>
<td style="text-align: left;">[69.20885, 85.34464]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Jul</td>
<td style="text-align: left;">N(81, 48)</td>
<td style="text-align: right;">80.64718</td>
<td style="text-align: left;">[71.74516, 89.54920]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Aug</td>
<td style="text-align: left;">N(80, 53)</td>
<td style="text-align: right;">80.14829</td>
<td style="text-align: left;">[70.84746, 89.44913]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Sep</td>
<td style="text-align: left;">N(78, 55)</td>
<td style="text-align: right;">78.26120</td>
<td style="text-align: left;">[68.75746, 87.76494]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Oct</td>
<td style="text-align: left;">N(82, 66)</td>
<td style="text-align: right;">82.18814</td>
<td style="text-align: left;">[71.78398, 92.59231]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Nov</td>
<td style="text-align: left;">N(90, 86)</td>
<td style="text-align: right;">90.28868</td>
<td style="text-align: left;">[78.41268, 102.16468]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2023 Dec</td>
<td style="text-align: left;">N(115, 148)</td>
<td style="text-align: right;">114.56846</td>
<td style="text-align: left;">[98.95381, 130.18312]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Jan</td>
<td style="text-align: left;">N(75, 70)</td>
<td style="text-align: right;">75.43393</td>
<td style="text-align: left;">[64.72040, 86.14746]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Feb</td>
<td style="text-align: left;">N(75, 73)</td>
<td style="text-align: right;">74.65798</td>
<td style="text-align: left;">[63.72584, 85.59012]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Mar</td>
<td style="text-align: left;">N(80, 89)</td>
<td style="text-align: right;">80.37216</td>
<td style="text-align: left;">[68.26018, 92.48414]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Apr</td>
<td style="text-align: left;">N(77, 86)</td>
<td style="text-align: right;">76.65176</td>
<td style="text-align: left;">[64.78271, 88.52082]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 May</td>
<td style="text-align: left;">N(80, 98)</td>
<td style="text-align: right;">79.96265</td>
<td style="text-align: left;">[67.25861, 92.66670]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Jun</td>
<td style="text-align: left;">N(79, 100)</td>
<td style="text-align: right;">78.57939</td>
<td style="text-align: left;">[65.78667, 91.37211]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Jul</td>
<td style="text-align: left;">N(82, 114)</td>
<td style="text-align: right;">82.00476</td>
<td style="text-align: left;">[68.34056, 95.66896]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Aug</td>
<td style="text-align: left;">N(81, 117)</td>
<td style="text-align: right;">81.49560</td>
<td style="text-align: left;">[67.61182, 95.37938]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Sep</td>
<td style="text-align: left;">N(80, 117)</td>
<td style="text-align: right;">79.57496</td>
<td style="text-align: left;">[65.72795, 93.42198]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Oct</td>
<td style="text-align: left;">N(84, 134)</td>
<td style="text-align: right;">83.56592</td>
<td style="text-align: left;">[68.72614, 98.40570]80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Nov</td>
<td style="text-align: left;">N(92, 168)</td>
<td style="text-align: right;">91.80017</td>
<td style="text-align: left;">[75.17738, 108.42295]80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">2024 Dec</td>
<td style="text-align: left;">N(116, 281)</td>
<td style="text-align: right;">116.48376</td>
<td style="text-align: left;">[94.99268, 137.97484]80</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>Additionally, the plot would look like this.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>fit_oos <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(State, Industry, arima111111, ets_mam) <span class="sc">|&gt;</span>  </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">24</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">tail</span>(retail, <span class="dv">12</span><span class="sc">*</span><span class="dv">5</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">level =</span> <span class="dv">80</span>) <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Turnover (in Million AUD)"</span>) <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Best OOS Models Forecast of Monthly Retail Turnover in ACT"</span>,</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"24 Months Ahead Forecasts"</span>) <span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-fcoos" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fcoos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-fcoos-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fcoos-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;15: Out-of-sample Model Forecast 24 months Ahead
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="comparing-out-of-sample-model-against-abs-data" class="level2">
<h2 class="anchored" data-anchor-id="comparing-out-of-sample-model-against-abs-data">Comparing Out-of-Sample Model against ABS Data</h2>
<p>After downloading the latest release data from ABS’s website, several data transformations steps are needed before we utilise this data to fit our model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>latest_retail_to <span class="ot">&lt;-</span> readxl<span class="sc">::</span><span class="fu">read_excel</span>(<span class="st">"8501011.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">2</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># remove unnecessary rows</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>latest_retail_to <span class="ot">&lt;-</span> latest_retail_to[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>),]</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co"># select only the necessary columns</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>latest_retail_to <span class="ot">&lt;-</span> latest_retail_to <span class="sc">|&gt;</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">...1</span><span class="st">`</span>, <span class="st">`</span><span class="at">Turnover ;  Australian Capital Territory ;  Other retailing ;</span><span class="st">`</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create the new column for series ID, Industry and State</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">State =</span> <span class="st">"Australian Capital Territory"</span>,</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">Industry =</span> <span class="st">"Other retailing"</span>,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">Series ID</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"A3349607K"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Turnover =</span> <span class="st">`</span><span class="at">Turnover ;  Australian Capital Territory ;  Other retailing ;</span><span class="st">`</span>)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="co"># remove the series ID row</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>latest_retail_to <span class="ot">&lt;-</span> latest_retail_to[<span class="sc">-</span><span class="dv">1</span>,] </span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="co"># decode year month</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>latest_retail_to <span class="ot">&lt;-</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  latest_retail_to <span class="sc">|&gt;</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">...1 =</span> <span class="fu">format</span>(<span class="fu">as.Date</span>(<span class="st">"1900-01-01"</span>) <span class="sc">+</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>                        <span class="co"># subtract 2 to adjust for leap year</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">as.numeric</span>(...<span class="dv">1</span>) <span class="sc">-</span> <span class="dv">2</span>, </span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"%Y %b"</span>),</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">Turnover =</span> <span class="fu">as.numeric</span>(Turnover))<span class="sc">|&gt;</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Month =</span> ...<span class="dv">1</span>)</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a><span class="co"># reorder the columns to match the retail data set</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a><span class="co"># this is just for ease of understanding and comparison</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>latest_retail_to <span class="ot">&lt;-</span> latest_retail_to <span class="sc">|&gt;</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(State, Industry, <span class="st">`</span><span class="at">Series ID</span><span class="st">`</span>, Month, Turnover)</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to tsibble for time series analysis</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>latest_retail_to <span class="ot">&lt;-</span> latest_retail_to <span class="sc">|&gt;</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">yearmonth</span>(Month)) <span class="sc">|&gt;</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> <span class="fu">c</span>(State, Industry),</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>             <span class="at">index =</span> Month)</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a><span class="co"># for checking purposes</span></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a><span class="co">#data_check &lt;- latest_retail_to |&gt;</span></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a><span class="co">#  inner_join(retail, Turnover, by = "Month") |&gt;</span></span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(Turnover_check = Turnover.x - Turnover.y)</span></span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a><span class="co">#sum(data_check$Turnover_check)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="out-of-sample-model-forecast" class="level3">
<h3 class="anchored" data-anchor-id="out-of-sample-model-forecast">Out-of-Sample Model Forecast</h3>
<p>Now that the data is ready, let’s fit the ABS data with our best models.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>fit_oos <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(State, Industry, arima111111, ets_mam) <span class="sc">|&gt;</span>  </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">forecast</span>(<span class="at">h =</span> <span class="dv">24</span>) <span class="sc">|&gt;</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(<span class="fu">tail</span>(latest_retail_to, <span class="dv">12</span><span class="sc">*</span><span class="dv">3</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">level =</span> <span class="dv">80</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Year and Month"</span>) <span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Turnover (in Million AUD)"</span>) <span class="sc">+</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="at">label =</span> <span class="st">"Best OOS Models Forecast of Monthly Retail Turnover in ACT"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">subtitle =</span> <span class="st">"Forecasted on ABS Latest Retail Data"</span>) <span class="sc">+</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"italic"</span>, <span class="at">size =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-fcoosabs" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-fcoosabs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Retail_Project_33477558_files/figure-html/fig-fcoosabs-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-fcoosabs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;16: Out-of-sample Model Forecast 24 months Ahead
</figcaption>
</figure>
</div>
</div>
</div>
<p>Our forecast on ABS data can be seen from <a href="#fig-fcoosabs" class="quarto-xref">Figure&nbsp;16</a>, both ARIMA and ETS models perform similarly before the significant spike occurs, where some of ARIMA’s point forecasts are closer to the actual value, and so do some ETS’s point forecasts. In December, when the peak occurs, ETS’s point forecast is closer to the actual value, but unfortunately for ARIMA, the actual value almost slip out of the prediction interval, just at the tip of the lower point of interval. There might be another effect similar to COVID-19, because the seasonal peak is lower than the previous year, resulting in near-miss forecast point. Our best guess is because of the high inflation rate across Australia that happened towards the end of December 2023, making the cost of living higher, affecting resident’s economic power, which eventually affect the retail industry. After the seasonal peak, ARIMA model is closer to the actual values. This is consistent with what we have observed during the training vs test set where ETS model perform worse in the long-term compared to ARIMA model.</p>
</section>
<section id="out-of-sample-model-performance" class="level3">
<h3 class="anchored" data-anchor-id="out-of-sample-model-performance">Out-of-sample Model Performance</h3>
<p>Looking at the model performance itself, considering our assessment from the previous section, we would expect ARIMA model to be the better model.</p>
<div class="cell">
<div id="tbl-accreport" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-accreport-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;14: Accuracy Performance of the Best Models on Latest Retail Data from ABS
</figcaption>
<div aria-describedby="tbl-accreport-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div>
<table class="table do-not-create-environment cell table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">.model</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Industry</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">.type</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">RMSE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MAE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MAPE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">MASE</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">RMSSE</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">arima111111</td>
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">4.374316</td>
<td style="text-align: right;">3.310924</td>
<td style="text-align: right;">3.796551</td>
<td style="text-align: right;">1.186470</td>
<td style="text-align: right;">1.065581</td>
</tr>
<tr class="even">
<td style="text-align: left;">ets_mam</td>
<td style="text-align: left;">Australian Capital Territory</td>
<td style="text-align: left;">Other retailing</td>
<td style="text-align: left;">Test</td>
<td style="text-align: right;">4.974714</td>
<td style="text-align: right;">4.057241</td>
<td style="text-align: right;">4.708621</td>
<td style="text-align: right;">1.453913</td>
<td style="text-align: right;">1.211837</td>
</tr>
</tbody>
</table>


</div>
</div>
</div>
</figure>
</div>
</div>
<p>As can be seen from the table, ARIMA does come out as the better model. The RMSE value of ARIMA model is smaller than ETS Model, although they do not differ too much.</p>
</section>
</section>
<section id="benefits-and-limitations" class="level2">
<h2 class="anchored" data-anchor-id="benefits-and-limitations">Benefits and Limitations</h2>
<section id="arima-1" class="level3">
<h3 class="anchored" data-anchor-id="arima-1">ARIMA</h3>
<p><strong>- Benefit</strong></p>
<ol type="1">
<li>Works well with the data that we analyse, in this case data that have multiplicative seasonality pattern and also additive trend.</li>
<li>Can handle autocorrelation.</li>
<li>Forecasting horizon, considering we are forecasting a long-term horizon, ARIMA models may be more suitable since its ability to capture complex patterns over longer periods.</li>
</ol>
<p><strong>- Limitations</strong></p>
<ol type="1">
<li>Take multiple steps in order to identify the appropriate model to include, such as data transformation, seasonal difference, first difference (if needed), and assessing the AR &amp; MA (both seasonal and non-seasonal).</li>
<li>ARIMA model has not been able to capture all information from the data, proven by the residual diagnostics where the residuals do not appear as white noise.</li>
<li>Due to the capability of handling data complexity, ARIMA model tends to overfit. This is shown during the seasonal peak when it is lower than the seasonal peak of previous year, the point forecasts are way above the actual values.</li>
</ol>
</section>
<section id="ets-1" class="level3">
<h3 class="anchored" data-anchor-id="ets-1">ETS</h3>
<p><strong>- Benefit</strong></p>
<ol type="1">
<li>Easier to create. Since ETS does not have strict assumptions about stationarity, we are able to model the data straight away.</li>
<li>Works well for short-term forecast.</li>
<li>Since it is a simpler model, it tends to not overfit. As what we have experienced during the unusual pattern occur, the point forecasts are closer to the actual values.</li>
</ol>
<p><strong>- Limitations</strong></p>
<ol type="1">
<li>Does not work well with data that have multiplicative seasonality pattern.</li>
<li>Short-term forecasting horizon. As can be seen from <a href="#fig-fcarimaets" class="quarto-xref">Figure&nbsp;14</a>, when the forecast is longer, the differences between test data point vs point forecast are larger.</li>
<li>Same with ARIMA, ETS model has not been able to capture all information from the data, proven by the residuals that do not appear as white noise.</li>
</ol>
</section>
</section>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>